
{% extends "layout.html" %}
{% block contents %}
<div>
    <script type="module">
        console.log("Loading")
        import { connectStreamSource } from "https://cdn.skypack.dev/pin/@hotwired/turbo@v7.0.0-rc.3-Ke3RjT96B5Lqzi8XKAG9/mode=imports/optimized/@hotwired/turbo.js"
        console.log("Connecting")
        let ws = new WebSocket("wss://" + document.location.host + "/ws")
        console.log("Streaming")
        connectStreamSource(ws);
    </script>
    <h2>Submitted {{active_log}} logs at time {{time}}</h2>
    <p>Waiting</p>
    <details class="message">
        <summary class="message-header">
            <span>Logs Submitted<span>
        </summary>
        <p class="message-body">{{log_text}}</p>
    </details>
    <div id="message-container">
    </div>
</div>
{% endblock %}
